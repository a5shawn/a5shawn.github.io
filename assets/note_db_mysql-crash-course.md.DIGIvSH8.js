import{_ as s,c as a,o as i,a3 as e}from"./chunks/framework.CF225qYA.js";const E=JSON.parse('{"title":"MySQL 必知必会","description":"","frontmatter":{},"headers":[],"relativePath":"note/db/mysql-crash-course.md","filePath":"note/db/mysql-crash-course.md","lastUpdated":1718880604000}'),t={name:"note/db/mysql-crash-course.md"},l=e(`<h1 id="mysql-必知必会" tabindex="-1">MySQL 必知必会 <a class="header-anchor" href="#mysql-必知必会" aria-label="Permalink to &quot;MySQL 必知必会&quot;">​</a></h1><h2 id="书写顺序" tabindex="-1">书写顺序 <a class="header-anchor" href="#书写顺序" aria-label="Permalink to &quot;书写顺序&quot;">​</a></h2><p><code style="color:red;"><strong>SELECT</strong></code> -&gt; <code>FROM</code> -&gt; <code>JOIN</code> -&gt; <code>ON</code> -&gt; <code>WHERE</code> -&gt; <code>GROUP BY</code> -&gt; <code>HAVING</code> -&gt; <code>ORDER BY</code> -&gt; <code>LIMIT</code></p><h2 id="执行顺序" tabindex="-1">执行顺序 <a class="header-anchor" href="#执行顺序" aria-label="Permalink to &quot;执行顺序&quot;">​</a></h2><p><code>FROM</code> -&gt; <code>JOIN</code> -&gt; <code>ON</code> -&gt; <code>WHERE</code> -&gt; <code>GROUP BY</code> -&gt; <code>HAVING</code> -&gt; <code style="color:red;"><strong>SELECT</strong></code> -&gt; <code>ORDER BY</code> -&gt; <code>LIMIT</code></p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>实际的执行顺序是由数据库的查询优化器决定的，它可能会调整顺序以提高查询性能。</p></div><h2 id="检索数据" tabindex="-1">检索数据 <a class="header-anchor" href="#检索数据" aria-label="Permalink to &quot;检索数据&quot;">​</a></h2><h3 id="distinct" tabindex="-1">DISTINCT <a class="header-anchor" href="#distinct" aria-label="Permalink to &quot;DISTINCT&quot;">​</a></h3><p>指示 MySQL 只返回不同的值</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT DISTINCT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><p>DISTINCT 关键字必须直接放在列名的前面</p><p>DISTINCT 关键字应用于所有列而不仅是前置它的列</p></div><h3 id="limit" tabindex="-1">LIMIT <a class="header-anchor" href="#limit" aria-label="Permalink to &quot;LIMIT&quot;">​</a></h3><p>限制返回的结果数量</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIMIT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> n1[, n2];</span></span></code></pre></div><p><code>n1</code> 表示开始位置，从 0 开始；<code>n2</code> 表示要检索的行数。</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p>如果 LIMIT 后面只指定一个参数，则表示返回的行数。</p></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>MySQL 5 支持 OFFSET 子句，代替 LIMIT 子句。</p><p>OFFSET 子句可以用来跳过指定数量的行，然后返回剩余的行。</p><p>LIMIT 4 OFFSET 3 表示从第 4 行开始，返回 4 行，等同于 LIMIT 3, 4。</p></div><h3 id="order-by" tabindex="-1">ORDER BY <a class="header-anchor" href="#order-by" aria-label="Permalink to &quot;ORDER BY&quot;">​</a></h3><p>按照指定列<strong>依次</strong>排序。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name1 [ASC|DESC], column_name2 [ASC|DESC], ...;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><p>DESC|ASC 关键字只能应用到直接位于其前面的列名</p><p>如果想在多个列上进行排序，必须对每个列指定 DESC|ASC 关键字</p></div><h2 id="过滤数据" tabindex="-1">过滤数据 <a class="header-anchor" href="#过滤数据" aria-label="Permalink to &quot;过滤数据&quot;">​</a></h2><h3 id="like" tabindex="-1">LIKE <a class="header-anchor" href="#like" aria-label="Permalink to &quot;LIKE&quot;">​</a></h3><p>指示 MySQL 后跟的搜索模式利用通配符匹配而不是直接相等匹配进行比较。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIKE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pattern;</span></span></code></pre></div><p><strong>pattern</strong></p><ul><li><p><code>%</code> 匹配任何字符出现任意次数</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;abc%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>匹配以 <code>abc</code> 开头的字符串</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%abc&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>匹配以 <code>abc</code> 结尾的字符串</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;%abc%&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>匹配包含 <code>abc</code> 的字符串</p></li><li><p><code>_</code> 匹配单个字符</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">LIKE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;abc_&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><p>匹配以 <code>abc_</code> 开头的字符串</p></li></ul><div class="tip custom-block"><p class="custom-block-title">使用通配符的技巧</p><ul><li><p>不要过度使用通配符。如果其他操作符能达到相同的目的，应该使用其他操作符。</p></li><li><p>在确实需要使用通配符时，除非绝对有必要，否则不要把它们用在搜索模式的开始处。把通配符置于搜索模式的开始处，搜索起来是最慢的。</p></li><li><p>仔细注意通配符的位置。如果放错地方，可能不会返回想要的数据。</p></li></ul></div><h3 id="regexp" tabindex="-1">REGEXP <a class="header-anchor" href="#regexp" aria-label="Permalink to &quot;REGEXP&quot;">​</a></h3><p>与 LIKE 类似，但使用正则表达式进行匹配。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name REGEXP pattern;</span></span></code></pre></div><h2 id="处理函数" tabindex="-1">处理函数 <a class="header-anchor" href="#处理函数" aria-label="Permalink to &quot;处理函数&quot;">​</a></h2><h3 id="文本" tabindex="-1">文本 <a class="header-anchor" href="#文本" aria-label="Permalink to &quot;文本&quot;">​</a></h3><br><h4 id="left" tabindex="-1">LEFT <a class="header-anchor" href="#left" aria-label="Permalink to &quot;LEFT&quot;">​</a></h4><p>返回字符串左边的字符。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> LEFT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name, n);</span></span></code></pre></div><p><code>n</code> 表示要返回的字符数。</p><h4 id="right" tabindex="-1">RIGHT <a class="header-anchor" href="#right" aria-label="Permalink to &quot;RIGHT&quot;">​</a></h4><p>返回字符串右边的字符。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> RIGHT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name, n);</span></span></code></pre></div><p><code>n</code> 表示要返回的字符数。</p><h4 id="length" tabindex="-1">LENGTH <a class="header-anchor" href="#length" aria-label="Permalink to &quot;LENGTH&quot;">​</a></h4><p>返回字符串的长度。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> LENGTH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="concat" tabindex="-1">CONCAT <a class="header-anchor" href="#concat" aria-label="Permalink to &quot;CONCAT&quot;">​</a></h4><p>连接两个或多个字符串。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> CONCAT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name1, column_name2,...);</span></span></code></pre></div><h4 id="substring" tabindex="-1">SUBSTRING <a class="header-anchor" href="#substring" aria-label="Permalink to &quot;SUBSTRING&quot;">​</a></h4><p>返回子字符串。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SUBSTRING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p><code>start</code> 表示子字符串的起始位置，从 1 开始；<code>length</code> 表示子字符串的长度。</p><h4 id="trim" tabindex="-1">TRIM <a class="header-anchor" href="#trim" aria-label="Permalink to &quot;TRIM&quot;">​</a></h4><p>删除字符串两端的空格。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TRIM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="upper" tabindex="-1">UPPER <a class="header-anchor" href="#upper" aria-label="Permalink to &quot;UPPER&quot;">​</a></h4><p>将字符串转换为大写。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> UPPER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="lower" tabindex="-1">LOWER <a class="header-anchor" href="#lower" aria-label="Permalink to &quot;LOWER&quot;">​</a></h4><p>将字符串转换为小写。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> LOWER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="replace" tabindex="-1">REPLACE <a class="header-anchor" href="#replace" aria-label="Permalink to &quot;REPLACE&quot;">​</a></h4><p>替换字符串中的子字符串。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> REPLACE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name, old_string, new_string);</span></span></code></pre></div><h4 id="reverse" tabindex="-1">REVERSE <a class="header-anchor" href="#reverse" aria-label="Permalink to &quot;REVERSE&quot;">​</a></h4><p>反转字符串。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> REVERSE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h3 id="日期" tabindex="-1">日期 <a class="header-anchor" href="#日期" aria-label="Permalink to &quot;日期&quot;">​</a></h3><br><h4 id="now" tabindex="-1">NOW <a class="header-anchor" href="#now" aria-label="Permalink to &quot;NOW&quot;">​</a></h4><p>返回当前日期和时间。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> NOW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="curdate" tabindex="-1">CURDATE <a class="header-anchor" href="#curdate" aria-label="Permalink to &quot;CURDATE&quot;">​</a></h4><p>返回当前日期。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CURDATE();</span></span></code></pre></div><h4 id="curtime" tabindex="-1">CURTIME <a class="header-anchor" href="#curtime" aria-label="Permalink to &quot;CURTIME&quot;">​</a></h4><p>返回当前时间。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CURTIME();</span></span></code></pre></div><h4 id="date" tabindex="-1">DATE <a class="header-anchor" href="#date" aria-label="Permalink to &quot;DATE&quot;">​</a></h4><p>返回日期。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="time" tabindex="-1">TIME <a class="header-anchor" href="#time" aria-label="Permalink to &quot;TIME&quot;">​</a></h4><p>返回时间。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TIME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="year" tabindex="-1">YEAR <a class="header-anchor" href="#year" aria-label="Permalink to &quot;YEAR&quot;">​</a></h4><p>返回年份。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> YEAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="month" tabindex="-1">MONTH <a class="header-anchor" href="#month" aria-label="Permalink to &quot;MONTH&quot;">​</a></h4><p>返回月份。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MONTH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="day" tabindex="-1">DAY <a class="header-anchor" href="#day" aria-label="Permalink to &quot;DAY&quot;">​</a></h4><p>返回日期。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> DAY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="dayofweek" tabindex="-1">DAYOFWEEK <a class="header-anchor" href="#dayofweek" aria-label="Permalink to &quot;DAYOFWEEK&quot;">​</a></h4><p>返回星期几。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DAYOFWEEK(column_name);</span></span></code></pre></div><h4 id="dayofmonth" tabindex="-1">DAYOFMONTH <a class="header-anchor" href="#dayofmonth" aria-label="Permalink to &quot;DAYOFMONTH&quot;">​</a></h4><p>返回月份中的日期。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DAYOFMONTH(column_name);</span></span></code></pre></div><h4 id="dayofyear" tabindex="-1">DAYOFYEAR <a class="header-anchor" href="#dayofyear" aria-label="Permalink to &quot;DAYOFYEAR&quot;">​</a></h4><p>返回年份中的日期。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DAYOFYEAR(column_name);</span></span></code></pre></div><h4 id="hour" tabindex="-1">HOUR <a class="header-anchor" href="#hour" aria-label="Permalink to &quot;HOUR&quot;">​</a></h4><p>返回小时。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> HOUR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="minute" tabindex="-1">MINUTE <a class="header-anchor" href="#minute" aria-label="Permalink to &quot;MINUTE&quot;">​</a></h4><p>返回分钟。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> MINUTE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="second" tabindex="-1">SECOND <a class="header-anchor" href="#second" aria-label="Permalink to &quot;SECOND&quot;">​</a></h4><p>返回秒。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> SECOND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="date-format" tabindex="-1">DATE_FORMAT <a class="header-anchor" href="#date-format" aria-label="Permalink to &quot;DATE_FORMAT&quot;">​</a></h4><p>格式化日期。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> DATE_FORMAT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name, format);</span></span></code></pre></div><p><code>format</code> 表示日期格式。</p><h4 id="date-add" tabindex="-1">DATE_ADD <a class="header-anchor" href="#date-add" aria-label="Permalink to &quot;DATE_ADD&quot;">​</a></h4><p>日期加法。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DATE_ADD(column_name, INTERVAL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> unit);</span></span></code></pre></div><p><code>value</code> 表示要加的数量；<code>unit</code> 表示要加的时间单位。</p><h4 id="date-sub" tabindex="-1">DATE_SUB <a class="header-anchor" href="#date-sub" aria-label="Permalink to &quot;DATE_SUB&quot;">​</a></h4><p>日期减法。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DATE_SUB(column_name, INTERVAL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> unit);</span></span></code></pre></div><p><code>value</code> 表示要减的数量；<code>unit</code> 表示要减的时间单位。</p><h4 id="datediff" tabindex="-1">DATEDIFF <a class="header-anchor" href="#datediff" aria-label="Permalink to &quot;DATEDIFF&quot;">​</a></h4><p>计算两个日期之间的差值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> DATEDIFF</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(expr1, expr2);</span></span></code></pre></div><h4 id="addtime" tabindex="-1">ADDTIME <a class="header-anchor" href="#addtime" aria-label="Permalink to &quot;ADDTIME&quot;">​</a></h4><p>增加一个日期(天、周等)</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ADDTIME(column_name, expr);</span></span></code></pre></div><p><code>expr</code> 是一个时间表达式，如 &#39;0:10:20&#39;，表示增加 0 时 10 分 20 秒。</p><h4 id="adddate" tabindex="-1">ADDDATE <a class="header-anchor" href="#adddate" aria-label="Permalink to &quot;ADDDATE&quot;">​</a></h4><p>增加一个日期(月、年等)</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ADDDATE(column_name, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">days</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ADDDATE(column_name, INTERVAL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> unit);</span></span></code></pre></div><br><p><strong>示例</strong></p><ul><li><p>检索出 2005 年 9 月下的 所有订单</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> orders </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> YEAR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(order_date) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2005</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> AND</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MONTH</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(order_date) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></li></ul><h3 id="数值" tabindex="-1">数值 <a class="header-anchor" href="#数值" aria-label="Permalink to &quot;数值&quot;">​</a></h3><br><h4 id="abs" tabindex="-1">ABS <a class="header-anchor" href="#abs" aria-label="Permalink to &quot;ABS&quot;">​</a></h4><p>返回绝对值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ABS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="ceil" tabindex="-1">CEIL <a class="header-anchor" href="#ceil" aria-label="Permalink to &quot;CEIL&quot;">​</a></h4><p>向上取整。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CEIL(column_name);</span></span></code></pre></div><h4 id="floor" tabindex="-1">FLOOR <a class="header-anchor" href="#floor" aria-label="Permalink to &quot;FLOOR&quot;">​</a></h4><p>向下取整。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> FLOOR</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="round" tabindex="-1">ROUND <a class="header-anchor" href="#round" aria-label="Permalink to &quot;ROUND&quot;">​</a></h4><p>四舍五入。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> ROUND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="truncate" tabindex="-1">TRUNCATE <a class="header-anchor" href="#truncate" aria-label="Permalink to &quot;TRUNCATE&quot;">​</a></h4><p>截断小数。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> TRUNCATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name, decimals);</span></span></code></pre></div><p><code>decimals</code> 表示要保留的小数位数。</p><h4 id="rand" tabindex="-1">RAND <a class="header-anchor" href="#rand" aria-label="Permalink to &quot;RAND&quot;">​</a></h4><p>返回一个随机数。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> RAND</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="power" tabindex="-1">POWER <a class="header-anchor" href="#power" aria-label="Permalink to &quot;POWER&quot;">​</a></h4><p>返回一个数的乘方。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> POWER</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name1, column_name2);</span></span></code></pre></div><h4 id="sqrt" tabindex="-1">SQRT <a class="header-anchor" href="#sqrt" aria-label="Permalink to &quot;SQRT&quot;">​</a></h4><p>返回一个数的平方根。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SQRT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="pi" tabindex="-1">PI <a class="header-anchor" href="#pi" aria-label="Permalink to &quot;PI&quot;">​</a></h4><p>返回圆周率。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PI</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><h4 id="cos" tabindex="-1">COS <a class="header-anchor" href="#cos" aria-label="Permalink to &quot;COS&quot;">​</a></h4><p>返回一个数的余弦值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> COS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="sin" tabindex="-1">SIN <a class="header-anchor" href="#sin" aria-label="Permalink to &quot;SIN&quot;">​</a></h4><p>返回一个数的正弦值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="tan" tabindex="-1">TAN <a class="header-anchor" href="#tan" aria-label="Permalink to &quot;TAN&quot;">​</a></h4><p>返回一个数的正切值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> TAN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h3 id="聚集" tabindex="-1">聚集 <a class="header-anchor" href="#聚集" aria-label="Permalink to &quot;聚集&quot;">​</a></h3><br><h4 id="max" tabindex="-1">MAX <a class="header-anchor" href="#max" aria-label="Permalink to &quot;MAX&quot;">​</a></h4><p>返回指定列的最大值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MAX</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="min" tabindex="-1">MIN <a class="header-anchor" href="#min" aria-label="Permalink to &quot;MIN&quot;">​</a></h4><p>返回指定列的最小值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> MIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="avg" tabindex="-1">AVG <a class="header-anchor" href="#avg" aria-label="Permalink to &quot;AVG&quot;">​</a></h4><p>返回指定列的平均值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> AVG</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="sum" tabindex="-1">SUM <a class="header-anchor" href="#sum" aria-label="Permalink to &quot;SUM&quot;">​</a></h4><p>返回指定列的总和。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> SUM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><h4 id="count" tabindex="-1">COUNT <a class="header-anchor" href="#count" aria-label="Permalink to &quot;COUNT&quot;">​</a></h4><p>返回指定列的行数。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> COUNT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(column_name);</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><ul><li>COUNT(*) 对表中行的数目进行计数，不管表列中包含的是空值(NULL)还是非空值。</li><li>COUNT(column_name) 对特定列中具有值的行进行计数，忽略 NULL 值。</li></ul></div><h2 id="分组数据" tabindex="-1">分组数据 <a class="header-anchor" href="#分组数据" aria-label="Permalink to &quot;分组数据&quot;">​</a></h2><h3 id="group-by" tabindex="-1">GROUP BY <a class="header-anchor" href="#group-by" aria-label="Permalink to &quot;GROUP BY&quot;">​</a></h3><p>按照指定列进行分组。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><ul><li>GROUP BY 子句可以包含任意数目的列。</li><li>GROUP BY 子句中列出的每个列都必须是检索列或有效的表达式(但不能是聚集函数)。</li><li><span style="color:red;">除聚集计算语句外，SELECT 语句中的每个列都必须在 GROUP BY 子句中给出。</span></li></ul></div><div class="tip custom-block"><p class="custom-block-title">提示</p><p>使用 WITH ROLLUP 关键字，可以得到每个分组以及每个分组汇总级别(针对每个分组)的值。</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WITH</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ROLLUP</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div></div><h3 id="having" tabindex="-1">HAVING <a class="header-anchor" href="#having" aria-label="Permalink to &quot;HAVING&quot;">​</a></h3><p>与 WHERE 子句类似，用于对分组进行过滤。事实上，目前为止所学过的所有类型的 WHERE 子句都可以用 HAVING 来替代。</p><p><strong>唯一的区别是 WHERE 过滤行，而 HAVING 过滤分组。</strong></p><div class="tip custom-block"><p class="custom-block-title">提示</p><p>这里有另一种理解方法，WHERE 在数据分组前进行过滤，HAVING 在数据分组后进行过滤。</p></div><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> table_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> column_name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">HAVING</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> condition;</span></span></code></pre></div><div class="warning custom-block"><p class="custom-block-title">注意</p><ul><li>HAVING 子句必须出现在 GROUP BY 子句之后。</li><li>HAVING 子句中只能包含聚集函数或聚合函数的别名。</li><li><span style="color:red;">HAVING 子句的执行顺序是在 GROUP BY 和聚合函数执行之后，但在 SELECT 子句选择具体列之前。</span>（这里就解释了为什么 HAVING 子句能使用聚集函数别名）</li></ul></div>`,205),n=[l];function h(p,d,o,k,c,r){return i(),a("div",null,n)}const u=s(t,[["render",h]]);export{E as __pageData,u as default};
